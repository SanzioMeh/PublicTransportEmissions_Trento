install.packages("gtfs2emis")
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("G", "D", "D", "D", "D", "E"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("DPF+SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
# Round composition for readability
fleet_df$fleet_composition <- round(fleet_df$fleet_composition, 6)
print(fleet_df)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
library(gtfs2emis)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("G", "D", "D", "D", "D", "E"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("DPF+SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
# Round composition for readability
fleet_df$fleet_composition <- round(fleet_df$fleet_composition, 6)
print(fleet_df)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
setwd("~/Documents/geo")
setwd("~/Documents/geo/PublicTransportEmissions_Trento")
gtfs <- read_gtfs("google_transit_urbano.zip")  # Replace with your GTFS file
tp_model <- transport_model(gtfs_data = gtfs,spatial_resolution = 100,parallel = TRUE)
install.packages("gtfs2gps")
install.packages("gtfs2gps")
library(gtfs2gps)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("G", "D", "D", "D", "D", "E"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("DPF+SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
# Round composition for readability
fleet_df$fleet_composition <- round(fleet_df$fleet_composition, 6)
print(fleet_df)
gtfs <- read_gtfs("google_transit_urbano.zip")  # Replace with your GTFS file
tp_model <- transport_model(gtfs_data = gtfs,spatial_resolution = 100,parallel = TRUE)
setwd("~/Documents/geo/PublicTransportEmissions_Trento")
# Round composition for readability
fleet_df$fleet_composition <- round(fleet_df$fleet_composition, 6)
tp_model <- transport_model(gtfs_data = gtfs,spatial_resolution = 100,parallel = TRUE)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
gtfs <- read_gtfs("google_transit_urbano.zip")  # Replace with your GTFS file
tp_model <- transport_model(gtfs_data = gtfs,spatial_resolution = 100,parallel = TRUE)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("G", "D", "D", "D", "D", "E"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("DPF+SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
# Round composition for readability
fleet_df$fleet_composition <- round(fleet_df$fleet_composition, 6)
print(fleet_df)
gtfs <- read_gtfs("google_transit_urbano.zip")  # Replace with your GTFS file
gtfs <- read_gtfs("google_transit_urbano_tte.zip")  # Replace with your GTFS file
tp_model <- transport_model(gtfs_data = gtfs,spatial_resolution = 100,parallel = TRUE)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("DPF+SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
tp_model <- transport_model(gtfs_data = gtfs,spatial_resolution = 100,parallel = TRUE)
emi_list
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("-", "-", "SCR", "SCR", "DPF+SCR", "-")
)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("DPF+SCR", "-", "SCR", "SCR", "DPF+SCR", "-")
)
# Round composition for readability
fleet_df$fleet_composition <- round(fleet_df$fleet_composition, 6)
print(fleet_df)
gtfs <- read_gtfs("google_transit_urbano_tte.zip")  # Replace with your GTFS file
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("VI", "III", "IV", "V", "VI", "VI"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("-", "-", "SCR", "SCR", "DPF+SCR", "-")
)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("NOx","PM10")
)
data(ef_europe_emep_db)
# Check what Euro VI + CNG + Ubus Std 15 - 18 t + NOx looks like:
subset(ef_europe_emep_db,
Pol == "NOx" &
Fuel == "CNG" &
Segment == "Ubus Std 15 - 18 t" &
Euro == "VI")
# Check what Euro VI + CNG + Ubus Std 15 - 18 t + NOx looks like:
subset(ef_europe_emep_db,
Pol == "NOx" &
Fuel == "CNG" &
Segment == "Ubus Std 15 - 18 t" &
Euro == "V")
# Check what Euro VI + CNG + Ubus Std 15 - 18 t + NOx looks like:
subset(ef_europe_emep_db,
Pol == "NOx" &
Fuel == "CNG" &
Segment == "Ubus Std 15 - 18 t" &
Euro == "")
# Check what Euro VI + CNG + Ubus Std 15 - 18 t + NOx looks like:
subset(ef_europe_emep_db,
Pol == "NOx" &
Fuel == "CNG" &
Segment == "Ubus Std 15 - 18 t" &
Euro == "-")
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("CO2","PM10")
)
data(ef_europe_emep_db)
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Segment %in% 'Ubus Std 15 - 18 t' &
Technology %in% 'SCR' &
Euro %in% 'VI' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Segment %in% 'Ubus Std 15 - 18 t' &
Euro %in% 'VI' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Segment %in% 'Ubus Std 15 - 18 t' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'CNG' &
Slope == 0 & Euro %in% 'VI' &
Load == 0.5, ]
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("EEV", "III", "IV", "V", "VI", "EEV"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("-", "-", "SCR", "SCR", "DPF+SCR", "-")
)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("CO2","PM10")
)
ef_europe_emep_db[Pol %in% 'CO2' &
Fuel %in% 'BD' &
Slope == 0 &
Load == 0.5, ]
ef_europe_emep_db[
Fuel %in% 'BD' &
Slope == 0 &
Load == 0.5, ]
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("EEV", "III", "IV", "V", "VI", "V"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("-", "-", "SCR", "SCR", "DPF+SCR", "-")
)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("CO2","PM10")
)
ef_europe_emep_db[
Fuel %in% 'BD' &
Segment %in% 'Ubus Std 15 - 18 t' &
Technology %in% 'SCR' &
Euro %in% 'V' &
Slope == 0 &
Load == 0.5, ]
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("CO","PM10")
)
ef_europe_emep_db[
Fuel %in% 'BD' &
Segment %in% 'Ubus Std 15 - 18 t' &
Technology %in% 'SCR' &
Euro %in% 'V' &
Slope == 0 &
Load == 0.5, ]
fleet_df <- data.frame(
veh_type = rep("Ubus Std 15 - 18 t", 6),
euro = c("EEV", "III", "IV", "V", "VI", "V"),
fuel = c("CNG", "D", "D", "D", "D", "BD"),
N = c(92, 32, 1, 9, 72, 9),
fleet_composition = c(
92 / (92 + 114 + 9),
32 / (92 + 114 + 9),
1 / (92 + 114 + 9),
9 / (92 + 114 + 9),
72 / (92 + 114 + 9),
9 / (92 + 114 + 9)
),
tech = c("-", "-", "SCR", "SCR", "DPF+SCR", "SCR")
)
emi_list <- emission_model(tp_model = tp_model
, ef_model = "ef_europe_emep"
, fleet_data = fleet_df
, pollutant = c("CO","PM10")
)
emi_list
